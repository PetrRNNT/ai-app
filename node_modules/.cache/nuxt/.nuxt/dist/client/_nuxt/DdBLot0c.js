import{_ as $}from"./_5kmRz0s.js";import{C as M,J as R,E as u,g as P,o as m,c,a as t,F as j,r as I,n as C,k as r,t as k,m as V,q as v,v as w,s as D,A as B,b as T,w as N,l as U,d as z}from"./BAtAs9mt.js";import{u as A}from"./HdmTA0kg.js";const E=M("pomodoro",{state:()=>({isRunning:!1,mode:"work",timeLeft:1500,workDuration:1500,shortBreakDuration:300,longBreakDuration:900,completedPomodoros:0,autoStartBreaks:!1,autoStartPomodoros:!1}),getters:{formattedTime:e=>{const s=Math.floor(e.timeLeft/60),i=e.timeLeft%60;return`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},progress:e=>{const s=e.mode==="work"?e.workDuration:e.mode==="shortBreak"?e.shortBreakDuration:e.longBreakDuration;return(s-e.timeLeft)/s*100}},actions:{start(){this.isRunning=!0},pause(){this.isRunning=!1},reset(){this.isRunning=!1,this.timeLeft=this.getCurrentDuration()},getCurrentDuration(){switch(this.mode){case"work":return this.workDuration;case"shortBreak":return this.shortBreakDuration;case"longBreak":return this.longBreakDuration;default:return this.workDuration}},setMode(e){this.mode=e,this.timeLeft=this.getCurrentDuration(),this.isRunning=!1},setDurations(e,s,i){this.workDuration=e*60,this.shortBreakDuration=s*60,this.longBreakDuration=i*60,this.timeLeft=this.getCurrentDuration()},tick(){this.timeLeft>0?this.timeLeft--:this.complete()},complete(){this.mode==="work"?(this.completedPomodoros++,this.completedPomodoros%4===0?(this.setMode("longBreak"),this.autoStartBreaks&&this.start()):(this.setMode("shortBreak"),this.autoStartBreaks&&this.start())):(this.setMode("work"),this.autoStartPomodoros&&this.start())}}}),F=globalThis.setInterval;function q(){const e=E();let s=null;const i=()=>{e.start(),s=F(()=>{e.tick()},1e3)},x=()=>{e.pause(),s&&(clearInterval(s),s=null)},p=()=>{e.reset(),s&&(clearInterval(s),s=null)},a=d=>{e.setMode(d),s&&(clearInterval(s),s=null)},l=(d,g,y)=>{e.setDurations(d,g,y)};return R(()=>{s&&clearInterval(s)}),{isRunning:u(()=>e.isRunning),mode:u(()=>e.mode),timeLeft:u(()=>e.timeLeft),formattedTime:u(()=>e.formattedTime),progress:u(()=>e.progress),completedPomodoros:u(()=>e.completedPomodoros),startTimer:i,pauseTimer:x,resetTimer:p,setMode:a,setDurations:l}}const J={class:"card max-w-md mx-auto"},G={class:"flex justify-center gap-2 mb-6"},H=["onClick"],K={class:"text-center mb-6"},Q={class:"text-7xl font-bold text-gray-900 mb-4 font-mono"},W={class:"w-full bg-gray-200 rounded-full h-2 mb-6"},X={class:"flex justify-center gap-4"},Y={class:"border-t pt-4"},Z={class:"text-center"},O={class:"text-2xl font-bold text-blue-600"},tt={class:"border-t mt-4 pt-4"},et={class:"text-sm"},st={class:"mt-4 space-y-3"},ot={class:"flex items-center justify-between"},rt={class:"flex items-center justify-between"},nt={class:"flex items-center justify-between"},it=P({__name:"PomodoroTimer",setup(e){const{isRunning:s,mode:i,formattedTime:x,progress:p,completedPomodoros:a,startTimer:l,pauseTimer:d,resetTimer:g,setMode:y,setDurations:L}=q(),S=[{id:"work",label:"–†–∞–±–æ—Ç–∞"},{id:"shortBreak",label:"–ü–µ—Ä–µ—Ä—ã–≤"},{id:"longBreak",label:"–û—Ç–¥—ã—Ö"}],f=B(25),h=B(5),b=B(15),_=()=>{L(f.value,h.value,b.value)};return(ft,o)=>(m(),c("div",J,[o[11]||(o[11]=t("h2",{class:"text-2xl font-bold text-center text-gray-900 mb-6"},"Pomodoro –¢–∞–π–º–µ—Ä",-1)),t("div",G,[(m(),c(j,null,I(S,n=>t("button",{key:n.id,onClick:ht=>r(y)(n.id),class:C(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",r(i)===n.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},k(n.label),11,H)),64))]),t("div",K,[t("div",Q,k(r(x)),1),t("div",W,[t("div",{class:C(["h-2 rounded-full transition-all duration-1000",r(i)==="work"?"bg-blue-600":r(i)==="shortBreak"?"bg-green-600":"bg-purple-600"]),style:V({width:`${r(p)}%`})},null,6)]),t("div",X,[r(s)?(m(),c("button",{key:1,onClick:o[1]||(o[1]=(...n)=>r(d)&&r(d)(...n)),class:"btn-secondary px-8 py-3 text-lg"}," ‚è∏Ô∏è –ü–∞—É–∑–∞ ")):(m(),c("button",{key:0,onClick:o[0]||(o[0]=(...n)=>r(l)&&r(l)(...n)),class:"btn-primary px-8 py-3 text-lg"}," ‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç ")),t("button",{onClick:o[2]||(o[2]=(...n)=>r(g)&&r(g)(...n)),class:"btn-secondary px-8 py-3 text-lg"}," üîÑ –°–±—Ä–æ—Å ")])]),t("div",Y,[t("div",Z,[o[6]||(o[6]=t("p",{class:"text-sm text-gray-600"},"–ó–∞–≤–µ—Ä—à–µ–Ω–æ –ø–æ–º–æ–¥–æ—Ä–æ",-1)),t("p",O,k(r(a)),1)])]),t("div",tt,[t("details",et,[o[10]||(o[10]=t("summary",{class:"cursor-pointer text-gray-600 hover:text-gray-900"}," ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ",-1)),t("div",st,[t("div",ot,[o[7]||(o[7]=t("label",{class:"text-gray-700"},"–†–∞–±–æ—Ç–∞ (–º–∏–Ω)",-1)),v(t("input",{"onUpdate:modelValue":o[3]||(o[3]=n=>D(f)?f.value=n:null),type:"number",min:"1",max:"60",class:"w-20 px-2 py-1 border rounded text-center",onChange:_},null,544),[[w,r(f),void 0,{number:!0}]])]),t("div",rt,[o[8]||(o[8]=t("label",{class:"text-gray-700"},"–ö–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω)",-1)),v(t("input",{"onUpdate:modelValue":o[4]||(o[4]=n=>D(h)?h.value=n:null),type:"number",min:"1",max:"30",class:"w-20 px-2 py-1 border rounded text-center",onChange:_},null,544),[[w,r(h),void 0,{number:!0}]])]),t("div",nt,[o[9]||(o[9]=t("label",{class:"text-gray-700"},"–î–ª–∏–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω)",-1)),v(t("input",{"onUpdate:modelValue":o[5]||(o[5]=n=>D(b)?b.value=n:null),type:"number",min:"1",max:"60",class:"w-20 px-2 py-1 border rounded text-center",onChange:_},null,544),[[w,r(b),void 0,{number:!0}]])])])])])]))}}),at=Object.assign(it,{__name:"CommonPomodoroTimer"}),lt={class:"min-h-screen bg-gray-50"},dt={class:"bg-white shadow-sm border-b"},ut={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},mt={class:"flex justify-between items-center h-16"},ct={class:"flex items-center space-x-4"},xt={class:"flex items-center space-x-4"},pt={key:0,class:"text-sm text-gray-600"},gt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},_t=P({__name:"index",setup(e){const{user:s,logout:i}=A(),x=async()=>{await i()};return(p,a)=>{const l=$;return m(),c("div",lt,[t("header",dt,[t("div",ut,[t("div",mt,[t("div",ct,[T(l,{to:"/",class:"text-blue-600 hover:underline"},{default:N(()=>[...a[0]||(a[0]=[z("‚Üê –ù–∞–∑–∞–¥",-1)])]),_:1}),a[1]||(a[1]=t("h1",{class:"text-xl font-bold text-gray-900"},"Pomodoro",-1))]),t("div",xt,[r(s)?(m(),c("span",pt,k(r(s).name),1)):U("",!0),t("button",{onClick:x,class:"text-sm text-gray-600 hover:text-gray-900"}," –í—ã–π—Ç–∏ ")])])])]),t("main",gt,[T(at)])])}}});export{_t as default};
