{"version":3,"file":"TaskForm-DhapqX5t.js","sources":["../../../../../../../components/task/TaskForm.vue"],"sourcesContent":["<template>\n  <div class=\"task-form-overlay\" @click=\"$emit('close')\">\n    <div class=\"task-form-modal\" @click.stop>\n      <h3 class=\"text-lg font-semibold mb-4\">{{ isEditing ? 'Редактировать задачу' : 'Новая задача' }}</h3>\n\n      <form @submit.prevent=\"handleSubmit\">\n        <!-- Title -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Название</label>\n          <input\n            v-model=\"form.title\"\n            type=\"text\"\n            required\n            class=\"input-base\"\n            placeholder=\"Название задачи\"\n          />\n        </div>\n\n        <!-- Description -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Описание</label>\n          <textarea\n            v-model=\"form.description\"\n            class=\"input-base\"\n            rows=\"3\"\n            placeholder=\"Описание задачи\"\n          ></textarea>\n        </div>\n\n        <!-- Project -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Проект</label>\n          <select v-model=\"form.projectId\" class=\"input-base\">\n            <option value=\"\">Без проекта</option>\n            <option\n              v-for=\"project in projects\"\n              :key=\"project.id\"\n              :value=\"project.id\"\n            >\n              {{ project.name }}\n            </option>\n          </select>\n        </div>\n\n        <!-- Status -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Статус</label>\n          <select v-model=\"form.status\" class=\"input-base\">\n            <option value=\"NEW\">Новая</option>\n            <option value=\"IN_PROGRESS\">В процессе</option>\n            <option value=\"PAUSED\">На паузе</option>\n            <option value=\"WAITING\">Ожидание</option>\n            <option value=\"COMPLETED\">Завершено</option>\n            <option value=\"CANCELLED\">Отменено</option>\n          </select>\n        </div>\n\n        <!-- Priority -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Приоритет</label>\n          <select v-model=\"form.priority\" class=\"input-base\">\n            <option value=\"NONE\">Без приоритета</option>\n            <option value=\"LOW\">Низкий</option>\n            <option value=\"MEDIUM\">Средний</option>\n            <option value=\"HIGH\">Высокий</option>\n            <option value=\"CRITICAL\">Критичный</option>\n          </select>\n        </div>\n\n        <!-- Due Date -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Срок выполнения</label>\n          <input\n            v-model=\"form.dueDate\"\n            type=\"date\"\n            class=\"input-base\"\n          />\n        </div>\n\n        <!-- Important & Urgent -->\n        <div class=\"mb-4 space-y-2\">\n          <label class=\"flex items-center\">\n            <input v-model=\"form.isImportant\" type=\"checkbox\" class=\"h-4 w-4 rounded border-gray-300 text-blue-600\" />\n            <span class=\"ml-2 text-sm text-gray-700\">Важная</span>\n          </label>\n          <label class=\"flex items-center\">\n            <input v-model=\"form.isUrgent\" type=\"checkbox\" class=\"h-4 w-4 rounded border-gray-300 text-blue-600\" />\n            <span class=\"ml-2 text-sm text-gray-700\">Срочная</span>\n          </label>\n        </div>\n\n        <!-- Estimated Time -->\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Оценка времени (минуты)</label>\n          <input\n            v-model.number=\"form.estimatedTime\"\n            type=\"number\"\n            min=\"0\"\n            class=\"input-base\"\n          />\n        </div>\n\n        <!-- Actions -->\n        <div class=\"flex justify-end space-x-2\">\n          <button type=\"button\" @click=\"$emit('close')\" class=\"btn-secondary\">\n            Отмена\n          </button>\n          <button type=\"button\" @click=\"showDeleteConfirm = true\" class=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\">\n            Удалить\n          </button>\n          <button type=\"submit\" class=\"btn-primary\">\n            Сохранить\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <!-- Delete Confirmation Dialog -->\n    <ConfirmDialog\n      v-if=\"showDeleteConfirm\"\n      title=\"Удалить задачу?\"\n      message=\"Вы уверены, что хотите удалить эту задачу? Это действие нельзя отменить.\"\n      type=\"danger\"\n      confirm-text=\"Удалить\"\n      cancel-text=\"Отмена\"\n      @confirm=\"handleDeleteConfirm\"\n      @cancel=\"showDeleteConfirm = false\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport ConfirmDialog from '~/components/common/ConfirmDialog.vue'\nimport type { TaskWithRelations } from '~/types'\n\nconst props = defineProps<{\n  task?: TaskWithRelations | null\n  projects?: any[]\n}>()\n\nconst emit = defineEmits<{\n  close: []\n  save: [data: any]\n  delete: [taskId: string]\n}>()\n\nconst showDeleteConfirm = ref(false)\n\nconst isEditing = computed(() => !!props.task?.id)\n\nconst form = ref({\n  title: props.task?.title || '',\n  description: props.task?.description || '',\n  projectId: props.task?.projectId || '',\n  status: props.task?.status || 'NEW',\n  priority: props.task?.priority || 'MEDIUM',\n  dueDate: props.task?.dueDate ? new Date(props.task.dueDate).toISOString().split('T')[0] : '',\n  isImportant: props.task?.isImportant || false,\n  isUrgent: props.task?.isUrgent || false,\n  estimatedTime: props.task?.estimatedTime || 0,\n})\n\nconst handleSubmit = () => {\n  emit('save', {\n    id: props.task?.id,\n    ...form.value,\n  })\n}\n\nconst showDeleteConfirmDialog = () => {\n  showDeleteConfirm.value = true\n}\n\nconst handleDeleteConfirm = () => {\n  if (props.task?.id) {\n    emit('delete', props.task.id)\n  }\n  showDeleteConfirm.value = false\n}\n</script>\n\n<style scoped>\n.task-form-overlay {\n  position: fixed;\n  inset: 0;\n  background: linear-gradient(\n    145deg, \n    rgba(0,0,0, 0.4) 0%, \n    rgba(107,19,188,0.4) 100%\n  );\n  backdrop-filter: blur(1px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 50;\n}\n\n.task-form-modal {\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  width: 100%;\n  max-width: 28rem;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: \n    0 10px 40px rgba(0, 0, 0, 0.15),\n    0 4px 12px rgba(0, 0, 0, 0.1);\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderAttr","_ssrInterpolate","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrLooseEqual","_ssrRenderList"],"mappings":";;;;;;;;;;;;;AAuIA,UAAM,QAAQ;AAKd,UAAM,OAAO;AAMb,UAAM,oBAAoB,IAAI,KAAK;AAEnC,UAAM,YAAY,SAAS,MAAM,CAAC,CAAC,MAAM,MAAM,EAAE;AAEjD,UAAM,OAAO,IAAI;AAAA,MACf,OAAO,MAAM,MAAM,SAAS;AAAA,MAC5B,aAAa,MAAM,MAAM,eAAe;AAAA,MACxC,WAAW,MAAM,MAAM,aAAa;AAAA,MACpC,QAAQ,MAAM,MAAM,UAAU;AAAA,MAC9B,UAAU,MAAM,MAAM,YAAY;AAAA,MAClC,SAAS,MAAM,MAAM,UAAU,IAAI,KAAK,MAAM,KAAK,OAAO,EAAE,cAAc,MAAM,GAAG,EAAE,CAAC,IAAI;AAAA,MAC1F,aAAa,MAAM,MAAM,eAAe;AAAA,MACxC,UAAU,MAAM,MAAM,YAAY;AAAA,MAClC,eAAe,MAAM,MAAM,iBAAiB;AAAA,IAAA,CAC7C;AAaD,UAAM,sBAAsB,MAAM;AAChC,UAAI,MAAM,MAAM,IAAI;AAClB,aAAK,UAAU,MAAM,KAAK,EAAE;AAAA,MAC9B;AACA,wBAAkB,QAAQ;AAAA,IAC5B;;mBAjLOA,eAAAC,WAAA,EAAA,OAAM,oBAAA,GAAmB,MAAA,CAAA,wIAEgBC,MAAA,SAAA,IAAS,yBAAA,cAAA,mKAOpCC,cAAA,SAAAD,MAAA,IAAA,EAAK,KAAK,mTAYVE,eAAAF,MAAA,IAAA,EAAK,WAAW,4NAUVG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,SAAS,IAAdI,gBAAAJ,MAAA,IAAA,EAAK,WAAS,EAAA,IAAdK,cAAAL,MAAA,IAAA,EAAK,WAAS,EAAA,CAAA,IAAA,cAAA;AAGTM,oBAAA,QAAA,WAAX,YAAO;sCAEb,SAAO,QAAQ,EAAE,oBALLH,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,SAAS,IAAdI,gBAAAJ,MAAA,IAAA,EAAK,WAKV,QAAQ,EAAE,IALLK,cAAAL,MAAA,IAAA,EAAK,WAKV,QAAQ,EAAE,CAAA,IAAA,cAAA,MAEfE,eAAA,QAAQ,IAAI;;gPAQFC,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,MAAM,IAAXI,gBAAAJ,MAAA,IAAA,EAAK,QAAM,KAAA,IAAXK,cAAAL,MAAA,IAAA,EAAK,QAAM,KAAA,CAAA,IAAA,cAAA,+DAAXG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,MAAM,IAAXI,gBAAAJ,MAAA,IAAA,EAAK,QAAM,aAAA,IAAXK,cAAAL,MAAA,IAAA,EAAK,QAAM,aAAA,CAAA,IAAA,cAAA,+DAAXG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,MAAM,IAAXI,gBAAAJ,MAAA,IAAA,EAAK,QAAM,QAAA,IAAXK,cAAAL,MAAA,IAAA,EAAK,QAAM,QAAA,CAAA,IAAA,cAAA,8DAAXG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,MAAM,IAAXI,gBAAAJ,MAAA,IAAA,EAAK,QAAM,SAAA,IAAXK,cAAAL,MAAA,IAAA,EAAK,QAAM,SAAA,CAAA,IAAA,cAAA,gEAAXG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,MAAM,IAAXI,gBAAAJ,MAAA,IAAA,EAAK,QAAM,WAAA,IAAXK,cAAAL,MAAA,IAAA,EAAK,QAAM,WAAA,CAAA,IAAA,cAAA,iEAAXG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,MAAM,IAAXI,gBAAAJ,MAAA,IAAA,EAAK,QAAM,WAAA,IAAXK,cAAAL,MAAA,IAAA,EAAK,QAAM,WAAA,CAAA,IAAA,cAAA,oPAaXG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,QAAQ,IAAbI,gBAAAJ,MAAA,IAAA,EAAK,UAAQ,MAAA,IAAbK,cAAAL,MAAA,IAAA,EAAK,UAAQ,MAAA,CAAA,IAAA,cAAA,gEAAbG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,QAAQ,IAAbI,gBAAAJ,MAAA,IAAA,EAAK,UAAQ,KAAA,IAAbK,cAAAL,MAAA,IAAA,EAAK,UAAQ,KAAA,CAAA,IAAA,cAAA,2DAAbG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,QAAQ,IAAbI,gBAAAJ,MAAA,IAAA,EAAK,UAAQ,QAAA,IAAbK,cAAAL,MAAA,IAAA,EAAK,UAAQ,QAAA,CAAA,IAAA,cAAA,0DAAbG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,QAAQ,IAAbI,gBAAAJ,MAAA,IAAA,EAAK,UAAQ,MAAA,IAAbK,cAAAL,MAAA,IAAA,EAAK,UAAQ,MAAA,CAAA,IAAA,cAAA,8DAAbG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,QAAQ,IAAbI,gBAAAJ,MAAA,IAAA,EAAK,UAAQ,UAAA,IAAbK,cAAAL,MAAA,IAAA,EAAK,UAAQ,UAAA,CAAA,IAAA,cAAA,kLAanBC,cAAA,SAAAD,MAAA,IAAA,EAAK,OAAO,6JASLG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,WAAW,IAAhBI,gBAAAJ,MAAA,IAAA,EAAK,aAAW,IAAA,IAAhBA,MAAA,IAAA,EAAK,WAAW,IAAA,aAAA,iOAIhBG,sBAAA,MAAA,QAAAH,MAAA,IAAA,EAAK,QAAQ,IAAbI,gBAAAJ,MAAA,IAAA,EAAK,UAAQ,IAAA,IAAbA,MAAA,IAAA,EAAK,QAAQ,IAAA,aAAA,oUASbC,cAAA,SAAAD,MAAA,IAAA,EAAK,aAAa;UAwBlCA,MAAA,iBAAA,GAAiB;;UACvB,OAAM;AAAA,UACN,SAAQ;AAAA,UACR,MAAK;AAAA,UACL,gBAAa;AAAA,UACb,eAAY;AAAA,UACX,WAAS;AAAA,UACT,sBAAQ,kBAAA,QAAiB;AAAA,QAAA;;;;;;;;;;;;;;;"}