{"file":"index-o5q0V-64.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAwFA,UAAM,EAAE,KAAa,IAAI,QAAA;AACzB,UAAM,EAAE,UAAmB,eAAe,cAAA,IAAkB,WAAA;AAE5D,UAAM,kBAAkB,IAAI,KAAK;AAMjC,UAAM,cAAc,OAAO,SAAc;AACvC,YAAM,cAAc,IAAI;AACxB,YAAM,cAAA;AACN,sBAAgB,QAAQ;AAAA,IAC1B;;;;AApGO,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,6BAAyB,MAAA,CAAA,CAAA,gMAAA;;QAMhB,IAAG;AAAA,QAAI,OAAM;AAAA,MAAA;yBAAvB,CAAyE,GAAAC,QAAAC,UAAA,aAAA;;;;;8BAAlB,SAAO;AAAA,YAAA;AAAA;;;;;UAKlDC,MAAA,IAAA,GAAI;AAAmC,cAAA,uCAAAC,eAAAD,MAAA,IAAA,EAAK,IAAI,CAAA,SAAA;AAAA;;;;AAuB5CE,oBAAAF,MAAA,QAAA,IAAX,YAAO;;UACb,KAAK,QAAQ;AAAA,UACb,IAAE,aAAe,QAAQ,EAAE;AAAA,UAC5B,OAAM;AAAA,QAAA;2BAJR,CAoCW,GAAAF,QAAAC,UAAA,aAAA;;;AA3BG,kBAAA,QAAQ,OAAK;oEAEQI,eAAA,EAAA,iBAAA,QAAQ,MAAA,CAAK;;;;2EAECF,eAAA,QAAQ,IAAI;AAIlD,kBAAA,QAAQ,aAAW;wFACvBA,eAAA,QAAQ,WAAW;;;;wIAIb,QAAQ,QAAQ,SAAK,CAAA;;gBAEgD,QAAQ,WAAM,2CAAoF,QAAQ,WAAM;gCASzLA,eAAA,QAAQ,MAAM;;;gBA3BrBG,YASM,OAAA,EATD,OAAM,2CAAuC;AAAA,kBAChDA,YAOM,OAAA,EAPD,OAAM,iCAA6B;AAAA,oBAE9B,QAAQ,sBADhBC,YAIQ,QAAA;AAAA;sBAFN,OAAM;AAAA,sBACL,OAAK,EAAA,iBAAqB,QAAQ,MAAA;AAAA,oBAAK;oBAE1CD,YAA+D,QAA3D,OAAM,8BAAA,GAA6BE,gBAAI,QAAQ,IAAI,GAAA,CAAA;AAAA,kBAAA;;gBAIlD,QAAQ,4BAAjBD,YAEI,KAAA;AAAA;kBAF0B,OAAM;AAAA,gBAAA,GAC/BC,gBAAA,QAAQ,WAAW,GAAA,CAAA;gBAGxBF,YAcM,OAAA,EAdD,OAAM,6DAAyD;AAAA,kBAClEA,YAAmD,8BAA1C,QAAQ,QAAQ,cAAa,UAAM,CAAA;AAAA,kBAC5CA,YAWO,QAAA;AAAA,oBAVJ,OAAK;AAAA;sBAAsE,QAAQ,WAAM,2CAAoF,QAAQ,WAAM;;qBASzLE,gBAAA,QAAQ,MAAM,GAAA,CAAA;AAAA,gBAAA;;;;;;;;UASnBN,MAAA,eAAA,GAAe;;UACpB,qBAAO,gBAAA,QAAe;AAAA,UACtB,QAAM;AAAA,QAAA;;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_push","_parent","_unref","_ssrInterpolate","_ssrRenderList","_ssrRenderStyle","_createVNode","_createBlock","_toDisplayString"],"sources":["../../../../../../../pages/projects/index.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center h-16\">\n          <div class=\"flex items-center space-x-4\">\n            <NuxtLink to=\"/\" class=\"text-blue-600 hover:underline\">← Назад</NuxtLink>\n            <h1 class=\"text-xl font-bold text-gray-900\">Проекты</h1>\n          </div>\n\n          <div class=\"flex items-center space-x-4\">\n            <span v-if=\"user\" class=\"text-sm text-gray-600\">{{ user.name }}</span>\n            <button @click=\"handleLogout\" class=\"text-sm text-gray-600 hover:text-gray-900\">\n              Выйти\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        <!-- New Project Card -->\n        <div\n          class=\"card border-2 border-dashed border-gray-300 hover:border-blue-500 cursor-pointer flex flex-col items-center justify-center py-12\"\n          @click=\"showProjectForm = true\"\n        >\n          <div class=\"text-4xl mb-2\">+</div>\n          <span class=\"text-gray-600 font-medium\">Новый проект</span>\n        </div>\n\n        <!-- Project Cards -->\n        <NuxtLink\n          v-for=\"project in projects\"\n          :key=\"project.id\"\n          :to=\"`/projects/${project.id}`\"\n          class=\"card hover:shadow-lg transition-shadow cursor-pointer\"\n        >\n          <div class=\"flex items-start justify-between mb-3\">\n            <div class=\"flex items-center space-x-2\">\n              <span\n                v-if=\"project.color\"\n                class=\"w-3 h-3 rounded-full\"\n                :style=\"{ backgroundColor: project.color }\"\n              ></span>\n              <h3 class=\"font-semibold text-gray-900\">{{ project.name }}</h3>\n            </div>\n          </div>\n\n          <p v-if=\"project.description\" class=\"text-sm text-gray-600 mb-3 line-clamp-2\">\n            {{ project.description }}\n          </p>\n\n          <div class=\"flex items-center justify-between text-sm text-gray-500\">\n            <span>{{ project._count?.tasks || 0 }} задач</span>\n            <span\n              :class=\"[\n                'px-2 py-1 rounded-full text-xs',\n                project.status === 'ACTIVE'\n                  ? 'bg-green-100 text-green-800'\n                  : project.status === 'ARCHIVED'\n                  ? 'bg-gray-100 text-gray-800'\n                  : 'bg-blue-100 text-blue-800',\n              ]\"\n            >\n              {{ project.status }}\n            </span>\n          </div>\n        </NuxtLink>\n      </div>\n    </main>\n\n    <!-- Project Form Modal -->\n    <ProjectForm\n      v-if=\"showProjectForm\"\n      @close=\"showProjectForm = false\"\n      @save=\"saveProject\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ndefinePageMeta({\n  middleware: ['auth'],\n})\n\nconst { user, logout } = useAuth()\nconst { projects, loading, fetchProjects, createProject } = useProject()\n\nconst showProjectForm = ref(false)\n\nonMounted(async () => {\n  await fetchProjects()\n})\n\nconst saveProject = async (data: any) => {\n  await createProject(data)\n  await fetchProjects()\n  showProjectForm.value = false\n}\n\nconst handleLogout = async () => {\n  await logout()\n}\n</script>\n"],"version":3}