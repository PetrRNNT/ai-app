{"version":3,"file":"index-B97oNS77.js","sources":["../../../../../../../stores/pomodoro.ts","../../../../../../nuxt/dist/app/compat/interval.js","../../../../../../../composables/usePomodoro.ts","../../../../../../../components/common/PomodoroTimer.vue","../../../../../../../pages/pomodoro/index.vue"],"sourcesContent":["import { defineStore } from 'pinia'\n\ninterface PomodoroState {\n  isRunning: boolean\n  mode: 'work' | 'shortBreak' | 'longBreak'\n  timeLeft: number\n  workDuration: number\n  shortBreakDuration: number\n  longBreakDuration: number\n  completedPomodoros: number\n  autoStartBreaks: boolean\n  autoStartPomodoros: boolean\n}\n\nexport const usePomodoroStore = defineStore('pomodoro', {\n  state: (): PomodoroState => ({\n    isRunning: false,\n    mode: 'work',\n    timeLeft: 25 * 60,\n    workDuration: 25 * 60,\n    shortBreakDuration: 5 * 60,\n    longBreakDuration: 15 * 60,\n    completedPomodoros: 0,\n    autoStartBreaks: false,\n    autoStartPomodoros: false,\n  }),\n\n  getters: {\n    formattedTime: (state) => {\n      const minutes = Math.floor(state.timeLeft / 60)\n      const seconds = state.timeLeft % 60\n      return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\n    },\n    progress: (state) => {\n      const total = state.mode === 'work'\n        ? state.workDuration\n        : state.mode === 'shortBreak'\n        ? state.shortBreakDuration\n        : state.longBreakDuration\n      return ((total - state.timeLeft) / total) * 100\n    },\n  },\n\n  actions: {\n    start() {\n      this.isRunning = true\n    },\n    pause() {\n      this.isRunning = false\n    },\n    reset() {\n      this.isRunning = false\n      this.timeLeft = this.getCurrentDuration()\n    },\n    getCurrentDuration() {\n      switch (this.mode) {\n        case 'work':\n          return this.workDuration\n        case 'shortBreak':\n          return this.shortBreakDuration\n        case 'longBreak':\n          return this.longBreakDuration\n        default:\n          return this.workDuration\n      }\n    },\n    setMode(mode: 'work' | 'shortBreak' | 'longBreak') {\n      this.mode = mode\n      this.timeLeft = this.getCurrentDuration()\n      this.isRunning = false\n    },\n    setDurations(work: number, shortBreak: number, longBreak: number) {\n      this.workDuration = work * 60\n      this.shortBreakDuration = shortBreak * 60\n      this.longBreakDuration = longBreak * 60\n      this.timeLeft = this.getCurrentDuration()\n    },\n    tick() {\n      if (this.timeLeft > 0) {\n        this.timeLeft--\n      } else {\n        this.complete()\n      }\n    },\n    complete() {\n      if (this.mode === 'work') {\n        this.completedPomodoros++\n        if (this.completedPomodoros % 4 === 0) {\n          this.setMode('longBreak')\n          if (this.autoStartBreaks) this.start()\n        } else {\n          this.setMode('shortBreak')\n          if (this.autoStartBreaks) this.start()\n        }\n      } else {\n        this.setMode('work')\n        if (this.autoStartPomodoros) this.start()\n      }\n    },\n  },\n})\n","import { createError } from \"../composables/error.js\";\nconst intervalError = \"[nuxt] `setInterval` should not be used on the server. Consider wrapping it with an `onNuxtReady`, `onBeforeMount` or `onMounted` lifecycle hook, or ensure you only call it in the browser by checking `import.meta.client`.\";\nexport const setInterval = import.meta.client ? globalThis.setInterval : (() => {\n  if (import.meta.dev) {\n    throw createError({\n      status: 500,\n      message: intervalError\n    });\n  }\n  console.error(intervalError);\n});\n","import { usePomodoroStore } from '~/stores/pomodoro'\n\nexport function usePomodoro() {\n  const pomodoroStore = usePomodoroStore()\n\n  let intervalId: ReturnType<typeof setInterval> | null = null\n\n  const startTimer = () => {\n    pomodoroStore.start()\n    intervalId = setInterval(() => {\n      pomodoroStore.tick()\n    }, 1000)\n  }\n\n  const pauseTimer = () => {\n    pomodoroStore.pause()\n    if (intervalId) {\n      clearInterval(intervalId)\n      intervalId = null\n    }\n  }\n\n  const resetTimer = () => {\n    pomodoroStore.reset()\n    if (intervalId) {\n      clearInterval(intervalId)\n      intervalId = null\n    }\n  }\n\n  const setMode = (mode: 'work' | 'shortBreak' | 'longBreak') => {\n    pomodoroStore.setMode(mode)\n    if (intervalId) {\n      clearInterval(intervalId)\n      intervalId = null\n    }\n  }\n\n  const setDurations = (work: number, shortBreak: number, longBreak: number) => {\n    pomodoroStore.setDurations(work, shortBreak, longBreak)\n  }\n\n  onUnmounted(() => {\n    if (intervalId) {\n      clearInterval(intervalId)\n    }\n  })\n\n  return {\n    isRunning: computed(() => pomodoroStore.isRunning),\n    mode: computed(() => pomodoroStore.mode),\n    timeLeft: computed(() => pomodoroStore.timeLeft),\n    formattedTime: computed(() => pomodoroStore.formattedTime),\n    progress: computed(() => pomodoroStore.progress),\n    completedPomodoros: computed(() => pomodoroStore.completedPomodoros),\n    startTimer,\n    pauseTimer,\n    resetTimer,\n    setMode,\n    setDurations,\n  }\n}\n","<template>\n  <div class=\"card max-w-md mx-auto\">\n    <h2 class=\"text-2xl font-bold text-center text-gray-900 mb-6\">Pomodoro –¢–∞–π–º–µ—Ä</h2>\n\n    <!-- Mode Selector -->\n    <div class=\"flex justify-center gap-2 mb-6\">\n      <button\n        v-for=\"modeOption in modes\"\n        :key=\"modeOption.id\"\n        @click=\"setMode(modeOption.id)\"\n        :class=\"[\n          'px-4 py-2 rounded-lg text-sm font-medium transition-colors',\n          mode === modeOption.id\n            ? 'bg-blue-600 text-white'\n            : 'bg-gray-100 text-gray-600 hover:bg-gray-200',\n        ]\"\n      >\n        {{ modeOption.label }}\n      </button>\n    </div>\n\n    <!-- Timer Display -->\n    <div class=\"text-center mb-6\">\n      <div class=\"text-7xl font-bold text-gray-900 mb-4 font-mono\">\n        {{ formattedTime }}\n      </div>\n\n      <!-- Progress Bar -->\n      <div class=\"w-full bg-gray-200 rounded-full h-2 mb-6\">\n        <div\n          class=\"h-2 rounded-full transition-all duration-1000\"\n          :class=\"mode === 'work' ? 'bg-blue-600' : mode === 'shortBreak' ? 'bg-green-600' : 'bg-purple-600'\"\n          :style=\"{ width: `${progress}%` }\"\n        ></div>\n      </div>\n\n      <!-- Controls -->\n      <div class=\"flex justify-center gap-4\">\n        <button\n          v-if=\"!isRunning\"\n          @click=\"startTimer\"\n          class=\"btn-primary px-8 py-3 text-lg\"\n        >\n          ‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç\n        </button>\n        <button\n          v-else\n          @click=\"pauseTimer\"\n          class=\"btn-secondary px-8 py-3 text-lg\"\n        >\n          ‚è∏Ô∏è –ü–∞—É–∑–∞\n        </button>\n        <button\n          @click=\"resetTimer\"\n          class=\"btn-secondary px-8 py-3 text-lg\"\n        >\n          üîÑ –°–±—Ä–æ—Å\n        </button>\n      </div>\n    </div>\n\n    <!-- Stats -->\n    <div class=\"border-t pt-4\">\n      <div class=\"text-center\">\n        <p class=\"text-sm text-gray-600\">–ó–∞–≤–µ—Ä—à–µ–Ω–æ –ø–æ–º–æ–¥–æ—Ä–æ</p>\n        <p class=\"text-2xl font-bold text-blue-600\">{{ completedPomodoros }}</p>\n      </div>\n    </div>\n\n    <!-- Settings -->\n    <div class=\"border-t mt-4 pt-4\">\n      <details class=\"text-sm\">\n        <summary class=\"cursor-pointer text-gray-600 hover:text-gray-900\">\n          ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏\n        </summary>\n        <div class=\"mt-4 space-y-3\">\n          <div class=\"flex items-center justify-between\">\n            <label class=\"text-gray-700\">–†–∞–±–æ—Ç–∞ (–º–∏–Ω)</label>\n            <input\n              v-model.number=\"workDuration\"\n              type=\"number\"\n              min=\"1\"\n              max=\"60\"\n              class=\"w-20 px-2 py-1 border rounded text-center\"\n              @change=\"updateDurations\"\n            />\n          </div>\n          <div class=\"flex items-center justify-between\">\n            <label class=\"text-gray-700\">–ö–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω)</label>\n            <input\n              v-model.number=\"shortBreakDuration\"\n              type=\"number\"\n              min=\"1\"\n              max=\"30\"\n              class=\"w-20 px-2 py-1 border rounded text-center\"\n              @change=\"updateDurations\"\n            />\n          </div>\n          <div class=\"flex items-center justify-between\">\n            <label class=\"text-gray-700\">–î–ª–∏–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω)</label>\n            <input\n              v-model.number=\"longBreakDuration\"\n              type=\"number\"\n              min=\"1\"\n              max=\"60\"\n              class=\"w-20 px-2 py-1 border rounded text-center\"\n              @change=\"updateDurations\"\n            />\n          </div>\n        </div>\n      </details>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst {\n  isRunning,\n  mode,\n  formattedTime,\n  progress,\n  completedPomodoros,\n  startTimer,\n  pauseTimer,\n  resetTimer,\n  setMode,\n  setDurations,\n} = usePomodoro()\n\nconst modes = [\n  { id: 'work' as const, label: '–†–∞–±–æ—Ç–∞' },\n  { id: 'shortBreak' as const, label: '–ü–µ—Ä–µ—Ä—ã–≤' },\n  { id: 'longBreak' as const, label: '–û—Ç–¥—ã—Ö' },\n]\n\nconst workDuration = ref(25)\nconst shortBreakDuration = ref(5)\nconst longBreakDuration = ref(15)\n\nconst updateDurations = () => {\n  setDurations(workDuration.value, shortBreakDuration.value, longBreakDuration.value)\n}\n</script>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center h-16\">\n          <div class=\"flex items-center space-x-4\">\n            <NuxtLink to=\"/\" class=\"text-blue-600 hover:underline\">‚Üê –ù–∞–∑–∞–¥</NuxtLink>\n            <h1 class=\"text-xl font-bold text-gray-900\">Pomodoro</h1>\n          </div>\n\n          <div class=\"flex items-center space-x-4\">\n            <span v-if=\"user\" class=\"text-sm text-gray-600\">{{ user.name }}</span>\n            <button @click=\"handleLogout\" class=\"text-sm text-gray-600 hover:text-gray-900\">\n              –í—ã–π—Ç–∏\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <PomodoroTimer />\n    </main>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport PomodoroTimer from '~/components/common/PomodoroTimer.vue'\n\ndefinePageMeta({\n  middleware: ['auth'],\n})\n\nconst { user, logout } = useAuth()\n\nconst handleLogout = async () => {\n  await logout()\n}\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_unref","_ssrInterpolate","_ssrRenderClass","_push","_parent"],"mappings":";;;;;;;;;;;;;;;AAcO,MAAM,mBAAmB,YAAY,YAAY;AAAA,EACtD,OAAO,OAAsB;AAAA,IAC3B,WAAW;AAAA,IACX,MAAM;AAAA,IACN,UAAU,KAAK;AAAA,IACf,cAAc,KAAK;AAAA,IACnB,oBAAoB,IAAI;AAAA,IACxB,mBAAmB,KAAK;AAAA,IACxB,oBAAoB;AAAA,IACpB,iBAAiB;AAAA,IACjB,oBAAoB;AAAA,EAAA;AAAA,EAGtB,SAAS;AAAA,IACP,eAAe,CAAC,UAAU;AACxB,YAAM,UAAU,KAAK,MAAM,MAAM,WAAW,EAAE;AAC9C,YAAM,UAAU,MAAM,WAAW;AACjC,aAAO,GAAG,QAAQ,SAAA,EAAW,SAAS,GAAG,GAAG,CAAC,IAAI,QAAQ,SAAA,EAAW,SAAS,GAAG,GAAG,CAAC;AAAA,IACtF;AAAA,IACA,UAAU,CAAC,UAAU;AACnB,YAAM,QAAQ,MAAM,SAAS,SACzB,MAAM,eACN,MAAM,SAAS,eACf,MAAM,qBACN,MAAM;AACV,cAAS,QAAQ,MAAM,YAAY,QAAS;AAAA,IAC9C;AAAA,EAAA;AAAA,EAGF,SAAS;AAAA,IACP,QAAQ;AACN,WAAK,YAAY;AAAA,IACnB;AAAA,IACA,QAAQ;AACN,WAAK,YAAY;AAAA,IACnB;AAAA,IACA,QAAQ;AACN,WAAK,YAAY;AACjB,WAAK,WAAW,KAAK,mBAAA;AAAA,IACvB;AAAA,IACA,qBAAqB;AACnB,cAAQ,KAAK,MAAA;AAAA,QACX,KAAK;AACH,iBAAO,KAAK;AAAA,QACd,KAAK;AACH,iBAAO,KAAK;AAAA,QACd,KAAK;AACH,iBAAO,KAAK;AAAA,QACd;AACE,iBAAO,KAAK;AAAA,MAAA;AAAA,IAElB;AAAA,IACA,QAAQ,MAA2C;AACjD,WAAK,OAAO;AACZ,WAAK,WAAW,KAAK,mBAAA;AACrB,WAAK,YAAY;AAAA,IACnB;AAAA,IACA,aAAa,MAAc,YAAoB,WAAmB;AAChE,WAAK,eAAe,OAAO;AAC3B,WAAK,qBAAqB,aAAa;AACvC,WAAK,oBAAoB,YAAY;AACrC,WAAK,WAAW,KAAK,mBAAA;AAAA,IACvB;AAAA,IACA,OAAO;AACL,UAAI,KAAK,WAAW,GAAG;AACrB,aAAK;AAAA,MACP,OAAO;AACL,aAAK,SAAA;AAAA,MACP;AAAA,IACF;AAAA,IACA,WAAW;AACT,UAAI,KAAK,SAAS,QAAQ;AACxB,aAAK;AACL,YAAI,KAAK,qBAAqB,MAAM,GAAG;AACrC,eAAK,QAAQ,WAAW;AACxB,cAAI,KAAK,gBAAiB,MAAK,MAAA;AAAA,QACjC,OAAO;AACL,eAAK,QAAQ,YAAY;AACzB,cAAI,KAAK,gBAAiB,MAAK,MAAA;AAAA,QACjC;AAAA,MACF,OAAO;AACL,aAAK,QAAQ,MAAM;AACnB,YAAI,KAAK,mBAAoB,MAAK,MAAA;AAAA,MACpC;AAAA,IACF;AAAA,EAAA;AAEJ,CAAC;ACnGD,MAAM,gBAAgB;AACf,MAAM,eAA6D,MAAM;AAO9E,UAAQ,MAAM,aAAa;AAC7B;ACRO,SAAS,cAAc;AAC5B,QAAM,gBAAgB,iBAAA;AAEtB,MAAI,aAAoD;AAExD,QAAM,aAAa,MAAM;AACvB,kBAAc,MAAA;AACd,iBAAa,YAEN;AAAA,EACT;AAEA,QAAM,aAAa,MAAM;AACvB,kBAAc,MAAA;AACd,QAAI,YAAY;AACd,oBAAc,UAAU;AACxB,mBAAa;AAAA,IACf;AAAA,EACF;AAEA,QAAM,aAAa,MAAM;AACvB,kBAAc,MAAA;AACd,QAAI,YAAY;AACd,oBAAc,UAAU;AACxB,mBAAa;AAAA,IACf;AAAA,EACF;AAEA,QAAM,UAAU,CAAC,SAA8C;AAC7D,kBAAc,QAAQ,IAAI;AAC1B,QAAI,YAAY;AACd,oBAAc,UAAU;AACxB,mBAAa;AAAA,IACf;AAAA,EACF;AAEA,QAAM,eAAe,CAAC,MAAc,YAAoB,cAAsB;AAC5E,kBAAc,aAAa,MAAM,YAAY,SAAS;AAAA,EACxD;AAQA,SAAO;AAAA,IACL,WAAW,SAAS,MAAM,cAAc,SAAS;AAAA,IACjD,MAAM,SAAS,MAAM,cAAc,IAAI;AAAA,IACvC,UAAU,SAAS,MAAM,cAAc,QAAQ;AAAA,IAC/C,eAAe,SAAS,MAAM,cAAc,aAAa;AAAA,IACzD,UAAU,SAAS,MAAM,cAAc,QAAQ;AAAA,IAC/C,oBAAoB,SAAS,MAAM,cAAc,kBAAkB;AAAA,IACnE;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;;;;ACuDA,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAMF,IAAI,YAAA;AAEJ,UAAM,QAAQ;AAAA,MACZ,EAAE,IAAI,QAAiB,OAAO,SAAA;AAAA,MAC9B,EAAE,IAAI,cAAuB,OAAO,UAAA;AAAA,MACpC,EAAE,IAAI,aAAsB,OAAO,QAAA;AAAA,IAAQ;AAG7C,UAAM,eAAe,IAAI,EAAE;AAC3B,UAAM,qBAAqB,IAAI,CAAC;AAChC,UAAM,oBAAoB,IAAI,EAAE;;AAxIzB,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,2BAAuB,MAAA,CAAA,CAAA,yIAAA;AAMPC,oBAAA,QAAd,eAAU;;;UAG2EC,MAAA,IAAA,MAAS,WAAW;eAO7GC,eAAA,WAAW,KAAK;;uIAOhBD,MAAA,aAAA,CAAa,4EAONE,eAAA,CAAAF,MAAA,IAAA,+BAAkCA,MAAA,IAAA,MAAI,eAAA,iBAAA,iBAAA,+CAAA,CAAA,wCAC1BA,MAAA,QAAA,CAAQ,IAAA,CAAA;WAOrBA,MAAA,SAAA,GAAS;;;;;oQA0B6BA,MAAA,kBAAA,CAAkB,gUAc3CA,MAAA,YAAA,CAAY,mOAWZA,MAAA,kBAAA,CAAkB,kOAWlBA,MAAA,iBAAA,CAAiB;;;;;;;;;;;;;;;AClE/C,UAAM,EAAE,KAAa,IAAI,QAAA;;;AAlClB,YAAA,OAAAH,eAAAC,WAAA,EAAA,OAAM,6BAAyB,MAAA,CAAA,CAAA,gMAAA;;QAMhB,IAAG;AAAA,QAAI,OAAM;AAAA,MAAA;yBAAvB,CAAyE,GAAAK,QAAAC,UAAA,aAAA;;;;;8BAAlB,SAAO;AAAA,YAAA;AAAA;;;;;UAKlDJ,MAAA,IAAA,GAAI;AAAmC,cAAA,uCAAAC,eAAAD,MAAA,IAAA,EAAK,IAAI,CAAA,SAAA;AAAA;;;;;;;;;;;;;;;"}