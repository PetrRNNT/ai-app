{"file":"_id_-BoYphYVj.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA,UAAM,iBAAiB,CAAC,WAAmB;AACzC,YAAM,SAAiC;AAAA,QACrC,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,WAAW;AAAA,QACX,SAAS;AAAA,MAAA;AAEX,aAAO,OAAO,MAAM,KAAK;AAAA,IAC3B;AAEA,UAAM,aAAa,CAAC,eAA8B;AAChD,UAAI,CAAC,WAAY,QAAO;AACxB,YAAM,OAAO,IAAI,KAAK,UAAU;AAChC,aAAO,KAAK,mBAAmB,SAAS,EAAE,KAAK,WAAW,OAAO,SAAS,MAAM,WAAW;AAAA,IAC7F;;AA5HO,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,eAAW,MAAA,CAAA,CAAA,iLAAA;UAQT,QAAA,SAAO;;MAIF,WAAA,QAAA,SAAS,WAAM,GAAA;;;;AAMTC,sBAAA,QAAA,WAAX,YAAO;AAQe,gBAAA,qHAAAC,eAAA,EAAA,iBAAA,QAAQ,SAAK,UAAA,CAAA,CAAA,0HAAA;AAO5B,cAAA,QAAQ,MAAI;AAGf,kBAAA,wBAAAC,eAAA,QAAQ,IAAI,CAAA,QAAA;AAAA;;;AAEuC,gBAAA,wDAAAA,eAAA,QAAQ,IAAI,CAAA,2HAAA;AAW/D,cAAA,QAAQ,aAAW;AACvB,kBAAA,sDAAAA,eAAA,QAAQ,WAAW,CAAA,MAAA;AAAA;;;iKAMX,QAAQ,QAAQ,SAAK,CAAA;;YAG0D,QAAQ,WAAM,2CAAoF,QAAQ,WAAM,2CAAoF,QAAQ,WAAM;gBAUzSC,cAAA,SAAO,eAAe,QAAQ,MAAM,CAAA,oBAElC,eAAe,QAAQ,MAAM,CAAA;AAKzB,cAAA,QAAQ,aAAa,QAAQ,SAAO;;AAClC,gBAAA,QAAQ,WAAS;wGAET,WAAW,QAAQ,SAAS,CAAA,CAAA,eAAA;AAAA;;;AAEpC,gBAAA,QAAQ,SAAO;uGAER,WAAW,QAAQ,OAAO,CAAA,CAAA,eAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;AC8GxD,UAAM,EAAE,KAAa,IAAI,QAAA;AACzB,UAAM,EAAE,UAAU,SAAS,eAAe,eAAe,cAAA,IAAkB,WAAA;AACzB,YAAA;AAElD,UAAM,iBAAiB,IAAS,IAAI;AACpC,UAAM,kBAAkB,IAAI,KAAK;AACjC,UAAM,iBAAiB,IAAS,IAAI;AACpC,UAAM,eAAe,IAAI,KAAK;AAC9B,UAAM,eAAe,IAAI,EAAE;AAC3B,UAAM,qBAAqB,IAAI,EAAE;AACjC,UAAM,kBAAkB,IAAI,QAAQ;AAMpC,UAAM,gBAAgB,OAAO,YAAiB;AAC5C,UAAI;AACF,uBAAe,QAAQ,MAAM,iBAAiB,QAAQ,EAAE;AAAA,MAC1D,SAAS,OAAY;AACnB,gBAAQ,MAAM,2BAA2B,KAAK;AAE9C,uBAAe,QAAQ;AAAA,MACzB;AAAA,IACF;AAEA,UAAM,mBAAmB,OAAO,OAAe;AAC7C,YAAM,YAAY,aAAA;AAClB,UAAI;AACF,cAAM,OAAY,MAAM,OAAO,iBAAiB,EAAE,IAAI;AAAA,UACpD,SAAS;AAAA,YACP,eAAe,UAAU,UAAU,KAAK;AAAA,UAAA;AAAA,QAC1C,CACD;AACD,eAAO,KAAK;AAAA,MACd,SAAS,OAAY;AACnB,gBAAQ,MAAM,2BAA2B,KAAK;AAC9C,cAAM;AAAA,MACR;AAAA,IACF;AAEA,UAAM,cAAc,CAAC,YAAiB;AACpC,qBAAe,QAAQ;AACvB,sBAAgB,QAAQ;AAAA,IAC1B;AAEA,UAAM,mBAAmB,MAAM;AAC7B,sBAAgB,QAAQ;AACxB,qBAAe,QAAQ;AAAA,IACzB;AAEA,UAAM,cAAc,OAAO,SAAc;AACvC,UAAI,KAAK,IAAI;AACX,cAAM,cAAc,IAAI;AAAA,MAC1B,OAAO;AACL,cAAM,cAAc,IAAI;AAAA,MAC1B;AACA,YAAM,cAAA;AACN,uBAAA;AAAA,IACF;;;;;AA5PO,YAAA,OAAAL,eAAAC,WAAA,EAAA,OAAM,6BAAyB,MAAA,CAAA,CAAA,gMAAA;;QAMhB,IAAG;AAAA,QAAI,OAAM;AAAA,MAAA;yBAAvB,CAAyE,GAAAK,QAAAC,UAAA,aAAA;;;;;8BAAlB,SAAO;AAAA,YAAA;AAAA;;;;;UAKlDC,MAAA,IAAA,GAAI;AAAmC,cAAA,uCAAAJ,eAAAI,MAAA,IAAA,EAAK,IAAI,CAAA,SAAA;AAAA;;;;;QAe3D,UAAUA,MAAA,QAAA;AAAA,QACV,SAASA,MAAA,OAAA;AAAA,QACT,sBAAQ,gBAAA,QAAe;AAAA,QACvB,UAAQ;AAAA,QACR,QAAM;AAAA,MAAA;;UAMEA,MAAA,cAAA,GAAc;AAG6B,cAAA,0HAAAJ,eAAAI,MAAA,cAAA,EAAe,IAAI,CAAA,OAAA;AAC1D,YAAAA,MAAA,cAAA,EAAe,aAAW;AAC9B,gBAAA,iCAAAJ,eAAAI,MAAA,cAAA,EAAe,WAAW,CAAA,MAAA;AAAA;;;;YASxBA,MAAA,cAAA,EAAe,UAAU,QAAM;;wBAEpBA,MAAA,cAAA,EAAe,UAAQ,CAAlC,YAAO;AAIkC,kBAAA,2EAAAJ,eAAA,QAAQ,IAAI,CAAA,sCAAA;AAGzCF,0BAAAM,MAAA,cAAA,EAAe,OAAO,OAAO,CAAA,MAAK,EAAE,cAAc,QAAQ,EAAE,IAApE,SAAI;8KAOGC,sBAAA,KAAK,WAAM,WAAA,IAAA,aAAA,yEAIuBC,eAAA,EAAA,8BAAA,KAAK,WAAM,YAAA,CAAA,MACpDN,eAAA,KAAK,KAAK;;gBAIwE,KAAK,aAAQ,qCAA8F,KAAK,aAAQ;qBAS5MA,eAAA,KAAK,QAAQ;;;;;;;;YAQfI,MAAA,cAAA,EAAe,OAAO,OAAO,OAAC,CAAK,EAAE,SAAS,EAAE,QAAM;;wBAI5CA,MAAA,cAAA,EAAe,OAAO,OAAO,CAAA,MAAC,CAAK,EAAE,SAAS,GAAA,CAAtD,SAAI;4KAOGC,sBAAA,KAAK,WAAM,WAAA,IAAA,aAAA,yEAIuBC,eAAA,EAAA,8BAAA,KAAK,WAAM,YAAA,CAAA,MACpDN,eAAA,KAAK,KAAK;;cAIoE,KAAK,aAAQ,qCAA0F,KAAK,aAAQ;mBASpMA,eAAA,KAAK,QAAQ;;;oBAMPI,MAAA,cAAA,EAAe,OAAO,QAAM;;;;;;;;;;AAc7C,UAAAA,MAAA,eAAA,KAAmBA,MAAA,cAAA,GAAc;;UACtC,SAASA,MAAA,cAAA;AAAA,UACT,SAAO;AAAA,UACP,QAAM;AAAA,QAAA;;;;UAKDA,MAAA,YAAA,GAAY;yPAQHA,MAAA,YAAA,CAAY,kKAOZA,MAAA,kBAAA,CAAkB,uGAKZA,MAAA,eAAA,CAAe,oBAAfA,MAAA,eAAA,GAAe,MAAA,kBAAfA,MAAA,eAAA,GAAe,MAAA,CAAA,IAAA,cAAA,oFAAfA,MAAA,eAAA,CAAe,oBAAfA,MAAA,eAAA,GAAe,KAAA,kBAAfA,MAAA,eAAA,GAAe,KAAA,CAAA,IAAA,cAAA,+EAAfA,MAAA,eAAA,CAAe,oBAAfA,MAAA,eAAA,GAAe,QAAA,kBAAfA,MAAA,eAAA,GAAe,QAAA,CAAA,IAAA,cAAA,8EAAfA,MAAA,eAAA,CAAe,oBAAfA,MAAA,eAAA,GAAe,MAAA,kBAAfA,MAAA,eAAA,GAAe,MAAA,CAAA,IAAA,cAAA,kFAAfA,MAAA,eAAA,CAAe,oBAAfA,MAAA,eAAA,GAAe,UAAA,kBAAfA,MAAA,eAAA,GAAe,UAAA,CAAA,IAAA,cAAA;;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrRenderStyle","_ssrInterpolate","_ssrRenderAttr","_push","_parent","_unref","_ssrIncludeBooleanAttr","_ssrRenderClass"],"sources":["../../../../../../../components/project/ProjectList.vue","../../../../../../../pages/projects/[id].vue"],"sourcesContent":["<template>\n  <div class=\"space-y-4\">\n    <div class=\"flex justify-between items-center\">\n      <h2 class=\"text-lg font-semibold text-gray-900\">–ü—Ä–æ–µ–∫—Ç—ã</h2>\n      <button @click=\"$emit('create')\" class=\"btn-primary text-sm\">\n        + –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç\n      </button>\n    </div>\n\n    <div v-if=\"loading\" class=\"text-center py-8\">\n      <div class=\"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n    </div>\n\n    <div v-else-if=\"projects.length === 0\" class=\"text-center py-8 text-gray-500\">\n      –ù–µ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –ø—Ä–æ–µ–∫—Ç!\n    </div>\n\n    <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n      <div\n        v-for=\"project in projects\"\n        :key=\"project.id\"\n        class=\"card hover:shadow-lg transition-shadow cursor-pointer overflow-hidden\"\n        @click=\"handleSelect(project)\"\n      >\n        <!-- Header with color indicator -->\n        <div\n          class=\"h-2 w-full\"\n          :style=\"{ backgroundColor: project.color || '#3B82F6' }\"\n        ></div>\n\n        <div class=\"p-4\">\n          <div class=\"flex items-start justify-between mb-3\">\n            <div class=\"flex items-center gap-2 flex-1\">\n              <div\n                v-if=\"project.icon\"\n                class=\"text-xl\"\n              >\n                {{ project.icon }}\n              </div>\n              <h3 class=\"font-semibold text-gray-900 line-clamp-2\">{{ project.name }}</h3>\n            </div>\n            <button\n              @click.stop=\"$emit('edit', project)\"\n              class=\"text-gray-400 hover:text-gray-600 flex-shrink-0 ml-2\"\n              title=\"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å\"\n            >\n              ‚úèÔ∏è\n            </button>\n          </div>\n\n          <p v-if=\"project.description\" class=\"text-sm text-gray-600 mb-3 line-clamp-3\">\n            {{ project.description }}\n          </p>\n\n          <div class=\"flex items-center justify-between text-sm\">\n            <div class=\"flex items-center gap-1 text-gray-500\">\n              <span>üìÅ</span>\n              <span>{{ project._count?.tasks || 0 }} –∑–∞–¥–∞—á</span>\n            </div>\n            <span\n              :class=\"[\n                'px-2 py-1 rounded-full text-xs font-medium',\n                project.status === 'ACTIVE'\n                  ? 'bg-green-100 text-green-800'\n                  : project.status === 'ARCHIVED'\n                  ? 'bg-gray-100 text-gray-800'\n                  : project.status === 'COMPLETED'\n                  ? 'bg-blue-100 text-blue-800'\n                  : 'bg-yellow-100 text-yellow-800',\n              ]\"\n              :title=\"getStatusLabel(project.status)\"\n            >\n              {{ getStatusLabel(project.status) }}\n            </span>\n          </div>\n\n          <!-- Dates -->\n          <div v-if=\"project.startDate || project.endDate\" class=\"mt-3 pt-3 border-t text-xs text-gray-500\">\n            <div v-if=\"project.startDate\" class=\"flex items-center gap-1\">\n              <span>üìÖ</span>\n              <span>–ù–∞—á–∞–ª–æ: {{ formatDate(project.startDate) }}</span>\n            </div>\n            <div v-if=\"project.endDate\" class=\"flex items-center gap-1\">\n              <span>üèÅ</span>\n              <span>–ö–æ–Ω–µ—Ü: {{ formatDate(project.endDate) }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { ProjectWithRelations } from '~/types'\n\nconst props = defineProps<{\n  projects: ProjectWithRelations[]\n  loading: boolean\n}>()\n\nconst emit = defineEmits<{\n  create: []\n  select: [project: ProjectWithRelations]\n  edit: [project: ProjectWithRelations]\n}>()\n\nconst handleSelect = (project: ProjectWithRelations) => {\n  emit('select', project)\n}\n\nconst getStatusLabel = (status: string) => {\n  const labels: Record<string, string> = {\n    ACTIVE: '–ê–∫—Ç–∏–≤–Ω—ã–π',\n    ARCHIVED: '–ê—Ä—Ö–∏–≤',\n    COMPLETED: '–ó–∞–≤–µ—Ä—à–µ–Ω',\n    ON_HOLD: '–ù–∞ –ø–∞—É–∑–µ',\n  }\n  return labels[status] || status\n}\n\nconst formatDate = (dateString: string | Date) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleDateString('ru-RU', { day: 'numeric', month: 'short', year: 'numeric' })\n}\n</script>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center h-16\">\n          <div class=\"flex items-center space-x-4\">\n            <NuxtLink to=\"/\" class=\"text-blue-600 hover:underline\">‚Üê –ù–∞–∑–∞–¥</NuxtLink>\n            <h1 class=\"text-xl font-bold text-gray-900\">–ü—Ä–æ–µ–∫—Ç—ã</h1>\n          </div>\n\n          <div class=\"flex items-center space-x-4\">\n            <span v-if=\"user\" class=\"text-sm text-gray-600\">{{ user.name }}</span>\n            <button @click=\"handleLogout\" class=\"text-sm text-gray-600 hover:text-gray-900\">\n              –í—ã–π—Ç–∏\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <!-- Projects List -->\n        <div class=\"lg:col-span-1\">\n          <ProjectList\n            :projects=\"projects\"\n            :loading=\"loading\"\n            @create=\"showProjectForm = true\"\n            @select=\"selectProject\"\n            @edit=\"editProject\"\n          />\n        </div>\n\n        <!-- Project Detail -->\n        <div class=\"lg:col-span-2\">\n          <div v-if=\"currentProject\" class=\"card\">\n            <div class=\"flex items-start justify-between mb-6\">\n              <div>\n                <h2 class=\"text-2xl font-bold text-gray-900\">{{ currentProject.name }}</h2>\n                <p v-if=\"currentProject.description\" class=\"text-gray-600 mt-1\">\n                  {{ currentProject.description }}\n                </p>\n              </div>\n              <button @click=\"showTaskForm = true\" class=\"btn-primary\">\n                + –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞\n              </button>\n            </div>\n\n            <!-- Sections with Tasks -->\n            <div v-if=\"currentProject.sections?.length\" class=\"space-y-6\">\n              <div\n                v-for=\"section in currentProject.sections\"\n                :key=\"section.id\"\n                class=\"border-t pt-4\"\n              >\n                <h3 class=\"font-semibold text-gray-700 mb-3\">{{ section.name }}</h3>\n                <div class=\"space-y-2\">\n                  <div\n                    v-for=\"task in currentProject.tasks?.filter(t => t.sectionId === section.id)\"\n                    :key=\"task.id\"\n                    class=\"flex items-center justify-between p-3 bg-gray-50 rounded hover:bg-gray-100\"\n                  >\n                    <div class=\"flex items-center space-x-3\">\n                      <input\n                        type=\"checkbox\"\n                        :checked=\"task.status === 'COMPLETED'\"\n                        @change=\"toggleTask(task)\"\n                        class=\"h-4 w-4 rounded border-gray-300 text-blue-600\"\n                      />\n                      <span :class=\"{ 'line-through text-gray-400': task.status === 'COMPLETED' }\">\n                        {{ task.title }}\n                      </span>\n                    </div>\n                    <span\n                      :class=\"[\n                        'px-2 py-1 text-xs rounded',\n                        task.priority === 'HIGH'\n                          ? 'bg-red-100 text-red-800'\n                          : task.priority === 'MEDIUM'\n                          ? 'bg-yellow-100 text-yellow-800'\n                          : 'bg-gray-100 text-gray-800',\n                      ]\"\n                    >\n                      {{ task.priority }}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Tasks without section -->\n            <div v-if=\"currentProject.tasks?.filter(t => !t.sectionId).length\" class=\"border-t pt-4\">\n              <h3 class=\"font-semibold text-gray-700 mb-3\">–ë–µ–∑ —Ä–∞–∑–¥–µ–ª–∞</h3>\n              <div class=\"space-y-2\">\n                <div\n                  v-for=\"task in currentProject.tasks?.filter(t => !t.sectionId)\"\n                  :key=\"task.id\"\n                  class=\"flex items-center justify-between p-3 bg-gray-50 rounded hover:bg-gray-100\"\n                >\n                  <div class=\"flex items-center space-x-3\">\n                    <input\n                      type=\"checkbox\"\n                      :checked=\"task.status === 'COMPLETED'\"\n                      @change=\"toggleTask(task)\"\n                      class=\"h-4 w-4 rounded border-gray-300 text-blue-600\"\n                    />\n                    <span :class=\"{ 'line-through text-gray-400': task.status === 'COMPLETED' }\">\n                      {{ task.title }}\n                    </span>\n                  </div>\n                  <span\n                    :class=\"[\n                      'px-2 py-1 text-xs rounded',\n                      task.priority === 'HIGH'\n                        ? 'bg-red-100 text-red-800'\n                        : task.priority === 'MEDIUM'\n                        ? 'bg-yellow-100 text-yellow-800'\n                        : 'bg-gray-100 text-gray-800',\n                    ]\"\n                  >\n                    {{ task.priority }}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <div v-else-if=\"!currentProject.tasks?.length\" class=\"text-center py-8 text-gray-500\">\n              –í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞—á\n            </div>\n          </div>\n\n          <div v-else class=\"card text-center py-12 text-gray-500\">\n            –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–¥–∞—á\n          </div>\n        </div>\n      </div>\n    </main>\n\n    <!-- Project Form Modal -->\n    <ProjectForm\n      v-if=\"showProjectForm || editingProject\"\n      :project=\"editingProject\"\n      @close=\"closeProjectForm\"\n      @save=\"saveProject\"\n    />\n\n    <!-- Quick Task Form Modal -->\n    <div\n      v-if=\"showTaskForm\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      @click=\"showTaskForm = false\"\n    >\n      <div class=\"bg-white rounded-lg p-6 w-full max-w-md\" @click.stop>\n        <h3 class=\"text-lg font-semibold mb-4\">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>\n        <form @submit.prevent=\"createTask\">\n          <input\n            v-model=\"newTaskTitle\"\n            type=\"text\"\n            placeholder=\"–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏\"\n            class=\"input-base mb-4\"\n            autofocus\n          />\n          <textarea\n            v-model=\"newTaskDescription\"\n            placeholder=\"–û–ø–∏—Å–∞–Ω–∏–µ\"\n            class=\"input-base mb-4\"\n            rows=\"3\"\n          ></textarea>\n          <select v-model=\"newTaskPriority\" class=\"input-base mb-4\">\n            <option value=\"NONE\">–ë–µ–∑ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞</option>\n            <option value=\"LOW\">–ù–∏–∑–∫–∏–π</option>\n            <option value=\"MEDIUM\">–°—Ä–µ–¥–Ω–∏–π</option>\n            <option value=\"HIGH\">–í—ã—Å–æ–∫–∏–π</option>\n            <option value=\"CRITICAL\">–ö—Ä–∏—Ç–∏—á–Ω—ã–π</option>\n          </select>\n          <div class=\"flex justify-end space-x-2\">\n            <button type=\"button\" @click=\"showTaskForm = false\" class=\"btn-secondary\">\n              –û—Ç–º–µ–Ω–∞\n            </button>\n            <button type=\"submit\" class=\"btn-primary\">–°–æ–∑–¥–∞—Ç—å</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ndefinePageMeta({\n  middleware: ['auth'],\n})\n\nconst { user, logout } = useAuth()\nconst { projects, loading, fetchProjects, createProject, updateProject } = useProject()\nconst { createTask: createTaskApi, updateTask } = useTask()\n\nconst currentProject = ref<any>(null)\nconst showProjectForm = ref(false)\nconst editingProject = ref<any>(null)\nconst showTaskForm = ref(false)\nconst newTaskTitle = ref('')\nconst newTaskDescription = ref('')\nconst newTaskPriority = ref('MEDIUM')\n\nonMounted(async () => {\n  await fetchProjects()\n})\n\nconst selectProject = async (project: any) => {\n  try {\n    currentProject.value = await fetchProjectById(project.id)\n  } catch (error: any) {\n    console.error('Failed to load project:', error)\n    // Use the project from the list as fallback\n    currentProject.value = project\n  }\n}\n\nconst fetchProjectById = async (id: string) => {\n  const authStore = useAuthStore()\n  try {\n    const data: any = await $fetch(`/api/projects/${id}`, {\n      headers: {\n        Authorization: `Bearer ${authStore.token}`,\n      },\n    })\n    return data.data\n  } catch (error: any) {\n    console.error('Error fetching project:', error)\n    throw error\n  }\n}\n\nconst editProject = (project: any) => {\n  editingProject.value = project\n  showProjectForm.value = true\n}\n\nconst closeProjectForm = () => {\n  showProjectForm.value = false\n  editingProject.value = null\n}\n\nconst saveProject = async (data: any) => {\n  if (data.id) {\n    await updateProject(data)\n  } else {\n    await createProject(data)\n  }\n  await fetchProjects()\n  closeProjectForm()\n}\n\nconst createTask = async () => {\n  if (!newTaskTitle.value.trim() || !currentProject.value) return\n\n  await createTaskApi({\n    title: newTaskTitle.value,\n    description: newTaskDescription.value,\n    priority: newTaskPriority.value as any,\n    projectId: currentProject.value.id,\n  })\n\n  newTaskTitle.value = ''\n  newTaskDescription.value = ''\n  showTaskForm.value = false\n\n  // Reload project\n  currentProject.value = await fetchProjectById(currentProject.value.id)\n}\n\nconst toggleTask = async (task: any) => {\n  const newStatus = task.status === 'COMPLETED' ? 'NEW' : 'COMPLETED'\n  await updateTask({ id: task.id, status: newStatus })\n\n  // Reload project\n  currentProject.value = await fetchProjectById(currentProject.value.id)\n}\n\nconst handleLogout = async () => {\n  await logout()\n}\n</script>\n"],"version":3}