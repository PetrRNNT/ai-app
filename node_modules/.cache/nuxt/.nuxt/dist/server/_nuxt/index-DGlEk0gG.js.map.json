{"file":"index-DGlEk0gG.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderList","_ssrInterpolate","_ssrRenderAttr","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrLooseEqual","_push","_parent"],"sources":["../../../../../../../stores/template.ts","../../../../../../../composables/useTemplate.ts","../../../../../../../components/template/TemplateList.vue","../../../../../../../pages/templates/index.vue"],"sourcesContent":["import { defineStore } from 'pinia'\n\ninterface Template {\n  id: string\n  name: string\n  type: string\n  content: any\n  variables?: any\n  isPublic: boolean\n  userId: string\n  createdAt: string\n  updatedAt: string\n}\n\ninterface TemplateState {\n  templates: Template[]\n  loading: boolean\n  error: string | null\n}\n\nexport const useTemplateStore = defineStore('template', {\n  state: (): TemplateState => ({\n    templates: [],\n    loading: false,\n    error: null,\n  }),\n\n  getters: {\n    taskTemplates: (state) => state.templates.filter((t) => t.type === 'TASK'),\n    projectTemplates: (state) => state.templates.filter((t) => t.type === 'PROJECT'),\n  },\n\n  actions: {\n    async fetchTemplates(type?: string) {\n      this.loading = true\n      this.error = null\n      try {\n        const authStore = useAuthStore()\n        const url = type ? `/api/templates?type=${type}` : '/api/templates'\n        const data: any = await $fetch(url, {\n          headers: { Authorization: `Bearer ${authStore.token}` },\n        })\n        this.templates = data.data\n      } catch (error: any) {\n        this.error = error.message\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async createTemplate(data: any) {\n      this.loading = true\n      this.error = null\n      try {\n        const authStore = useAuthStore()\n        const result: any = await $fetch('/api/templates', {\n          method: 'POST',\n          headers: {\n            Authorization: `Bearer ${authStore.token}`,\n            'Content-Type': 'application/json',\n          },\n          body: data,\n        })\n        this.templates.push(result.data)\n        return result.data\n      } catch (error: any) {\n        this.error = error.message\n        throw error\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async deleteTemplate(id: string) {\n      try {\n        const authStore = useAuthStore()\n        await $fetch(`/api/templates/${id}`, {\n          method: 'DELETE',\n          headers: { Authorization: `Bearer ${authStore.token}` },\n        })\n        this.templates = this.templates.filter((t) => t.id !== id)\n      } catch (error: any) {\n        this.error = error.message\n        throw error\n      }\n    },\n  },\n})\n","import { useTemplateStore } from '~/stores/template'\n\nexport function useTemplate() {\n  const templateStore = useTemplateStore()\n\n  const fetchTemplates = async (type?: string) => templateStore.fetchTemplates(type)\n  const createTemplate = async (data: any) => templateStore.createTemplate(data)\n  const deleteTemplate = async (id: string) => templateStore.deleteTemplate(id)\n\n  return {\n    templates: computed(() => templateStore.templates),\n    taskTemplates: computed(() => templateStore.taskTemplates),\n    projectTemplates: computed(() => templateStore.projectTemplates),\n    loading: computed(() => templateStore.loading),\n    error: computed(() => templateStore.error),\n    fetchTemplates,\n    createTemplate,\n    deleteTemplate,\n  }\n}\n","<template>\n  <div class=\"space-y-4\">\n    <div class=\"flex justify-between items-center\">\n      <h3 class=\"text-lg font-semibold text-gray-900\">–®–∞–±–ª–æ–Ω—ã</h3>\n      <button @click=\"showCreate = true\" class=\"btn-primary text-sm\">\n        + –ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω\n      </button>\n    </div>\n\n    <div v-if=\"loading\" class=\"text-center py-8\">\n      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n    </div>\n\n    <div v-else-if=\"templates.length === 0\" class=\"text-center py-8 text-gray-500\">\n      –ù–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —à–∞–±–ª–æ–Ω!\n    </div>\n\n    <div v-else class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <div\n        v-for=\"template in templates\"\n        :key=\"template.id\"\n        class=\"card hover:shadow-md transition-shadow cursor-pointer\"\n        @click=\"selectTemplate(template)\"\n      >\n        <div class=\"flex items-start justify-between mb-2\">\n          <h4 class=\"font-semibold text-gray-900\">{{ template.name }}</h4>\n          <button\n            @click.stop=\"deleteTemplateById(template.id)\"\n            class=\"text-gray-400 hover:text-red-600\"\n          >\n            üóëÔ∏è\n          </button>\n        </div>\n        <div class=\"flex items-center gap-2 text-sm\">\n          <span\n            :class=\"[\n              'px-2 py-0.5 rounded text-xs',\n              template.type === 'TASK'\n                ? 'bg-blue-100 text-blue-800'\n                : 'bg-green-100 text-green-800',\n            ]\"\n          >\n            {{ template.type === 'TASK' ? '–ó–∞–¥–∞—á–∞' : '–ü—Ä–æ–µ–∫—Ç' }}\n          </span>\n          <span v-if=\"template.isPublic\" class=\"text-green-600 text-xs\">üåç –ü—É–±–ª–∏—á–Ω—ã–π</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Create Template Modal -->\n    <div\n      v-if=\"showCreate\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      @click=\"showCreate = false\"\n    >\n      <div class=\"bg-white rounded-lg p-6 w-full max-w-md\" @click.stop>\n        <h3 class=\"text-lg font-semibold mb-4\">–ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω</h3>\n        <form @submit.prevent=\"saveTemplate\">\n          <input\n            v-model=\"newTemplate.name\"\n            type=\"text\"\n            placeholder=\"–ù–∞–∑–≤–∞–Ω–∏–µ\"\n            class=\"input-base mb-4\"\n            required\n          />\n          <select v-model=\"newTemplate.type\" class=\"input-base mb-4\">\n            <option value=\"TASK\">–®–∞–±–ª–æ–Ω –∑–∞–¥–∞—á–∏</option>\n            <option value=\"PROJECT\">–®–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∞</option>\n          </select>\n          <textarea\n            v-model=\"newTemplate.description\"\n            placeholder=\"–û–ø–∏—Å–∞–Ω–∏–µ\"\n            class=\"input-base mb-4\"\n            rows=\"3\"\n          ></textarea>\n          <label class=\"flex items-center gap-2 mb-4\">\n            <input v-model=\"newTemplate.isPublic\" type=\"checkbox\" class=\"rounded\" />\n            <span class=\"text-sm text-gray-700\">–ü—É–±–ª–∏—á–Ω—ã–π —à–∞–±–ª–æ–Ω</span>\n          </label>\n          <div class=\"flex justify-end gap-2\">\n            <button type=\"button\" @click=\"showCreate = false\" class=\"btn-secondary\">–û—Ç–º–µ–Ω–∞</button>\n            <button type=\"submit\" class=\"btn-primary\">–°–æ–∑–¥–∞—Ç—å</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { templates, loading, fetchTemplates, createTemplate, deleteTemplate } = useTemplate()\n\nconst showCreate = ref(false)\nconst newTemplate = ref({\n  name: '',\n  type: 'TASK',\n  description: '',\n  isPublic: false,\n})\n\nonMounted(async () => {\n  await fetchTemplates()\n})\n\nconst selectTemplate = (template: any) => {\n  console.log('Selected template:', template)\n  // Apply template logic here\n}\n\nconst saveTemplate = async () => {\n  await createTemplate({\n    name: newTemplate.value.name,\n    type: newTemplate.value.type,\n    content: {\n      title: newTemplate.value.name,\n      description: newTemplate.value.description,\n    },\n    isPublic: newTemplate.value.isPublic,\n  })\n  showCreate.value = false\n  newTemplate.value = { name: '', type: 'TASK', description: '', isPublic: false }\n}\n\nconst deleteTemplateById = async (id: string) => {\n  if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω?')) {\n    await deleteTemplate(id)\n  }\n}\n</script>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center h-16\">\n          <div class=\"flex items-center space-x-4\">\n            <NuxtLink to=\"/\" class=\"text-blue-600 hover:underline\">‚Üê –ù–∞–∑–∞–¥</NuxtLink>\n            <h1 class=\"text-xl font-bold text-gray-900\">–®–∞–±–ª–æ–Ω—ã</h1>\n          </div>\n\n          <div class=\"flex items-center space-x-4\">\n            <span v-if=\"user\" class=\"text-sm text-gray-600\">{{ user.name }}</span>\n            <button @click=\"handleLogout\" class=\"text-sm text-gray-600 hover:text-gray-900\">\n              –í—ã–π—Ç–∏\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <TemplateList />\n    </main>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ndefinePageMeta({\n  middleware: ['auth'],\n})\n\nconst { user, logout } = useAuth()\n\nconst handleLogout = async () => {\n  await logout()\n}\n</script>\n"],"version":3}